<main id="games" *ngIf="season else newSeason">
  <h1 id="newSeason" class="stripe-5" (click)="seasonDetails = !seasonDetails">
    {{currentSeason}}
  </h1>

  <section *ngIf="seasonDetails">
    <h4>Total Games:{{season.gamesCount}}</h4>
    <h4>Number of Seats: {{seatCount}}</h4>
    <h4>Number of Users: {{season.usersCount }}</h4>
    <h4>Number of Rounds: {{ (season.gamesCount * seatCount) / season.usersCount }}</h4>
  </section>

  <section class="scroll">
    <app-avatar (click)="changeUser(user)" class="item" [img]="user?.photoURL"
      [selected]="user?.id === season.members[season.nextPick]" [selected2]="user?.id===loggedInUser?.id"
      *ngFor="let user of order(users)"></app-avatar>
  </section>

  <section cdkscrollable *ngIf="games" style="transform: translateY(-30px);">
    <mat-list>
      <mat-list-item style="height: auto;margin-top: 30px;" *ngFor="let game of games | async">
        
        <h4 style="color:#A19060; position: absolute;top:10px">
            {{game.date}} </h4>
        <mat-list-item style="margin-top: 65px">
          <div matListAvatar>
            <div class="pieContainer">
              <div class="pieBackground"></div>
              <div id="pieSlice1" class="hold">
                <div (click)="pick(game, 'A', season)"
                  [style.background-color]="(game.seats.A.length>1)?'grey':'#A19060'" class="pie"></div>
              </div>
              <div id="pieSlice3" class="hold">
                <div (click)="pick(game, 'B', season)"
                  [style.background-color]="(game.seats.B.length>1)?'grey':'#80000A'" class="pie"></div>
              </div>
              <div id="pieSlice6" class="hold">
                <div (click)="pick(game, 'C', season)" [style.background-color]="(game.seats.C.length>1)?'grey':'black'"
                  class="pie"></div>
              </div>
            </div>
          </div>
          <mat-list>
            <mat-list-item *ngIf="game.home | fire | async as home">
              <img matListAvatar [src]="home.image">
              <h4 class="team-name"> {{ home.name }} </h4>
            </mat-list-item>
            <mat-list-item *ngIf="game.away as away">
              <img matListAvatar [src]="away.images[0]">
              <h4 class="team-name"> {{ away.name }} </h4>
            </mat-list-item>
          </mat-list>
        </mat-list-item>
      </mat-list-item>
    </mat-list>
  </section>


</main>
<ng-template #newSeason>
  <h1 id="newSeason">
    {{currentSeason}}
  </h1>
  <section>
    <button mat-button color="primary" style="background: #A19060;" (click)="users=shuffle(users)">Shuffle</button>

    <div class="scroll">
      <app-avatar class="item" (click)="removeUser(user)" [img]="user.photoURL" [selected]="false"
        *ngFor="let user of shuffle(users)">
      </app-avatar>
    </div>

    <h1 id="newSeason" style="color: #80000A;background: #A19060;" (click)="setNewSeason(users)">NEW SEASON</h1>
  </section>

  <section class="scroll">
    <app-avatar class="item" (click)="addUser(user)" [img]="user.photoURL" [selected]="false"
      *ngFor="let user of 'users' | fire | async "></app-avatar>
  </section>


</ng-template>