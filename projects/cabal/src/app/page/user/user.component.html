<div *ngIf="this.currentUser.uid !== ''" fxLayout="column" fxLayoutAlign="center center">
  <div id="selfy" fxLayout="column" fxLayoutAlign="center center">
    <webcam id="video" mirrorImage="always" [height]="200" [width]="200" [trigger]="triggerObservable" (imageCapture)="handleImage($event)"
      [allowCameraSwitch]="allowCameraSwitch" [switchCamera]="nextWebcamObservable" [videoOptions]="videoOptions"
      [imageQuality]="1" (cameraSwitched)="cameraWasSwitched($event)" (initError)="handleInitError($event)"
      (imageClick)="flip()"></webcam>
    <br />
    <button [hidden]="!showWebcam" matButton id="snap"  (click)="triggerSnapshot();">Take A Snapshot</button>
  </div>
  
  <img [height]="200" [width]="200" (click)="flip()" matListAvatar
    [src]="(webcamImage) ? webcamImage : currentUser.photoURL" alt="...">

    <button matButton *ngIf="webcamImage" id="snap"  (click)="updateProfileImage();">Update Profile Image</button>

  <h3 #displayName matLine (blur)="updateDisplayName(displayName.innerText)" contenteditable> {{currentUser.displayName}} </h3>
 
  <button matButton id="snap"  (click)="triggerSnapshot();">BEER ME</button>
  <p matLine>
    <span> {{currentUser.email}} </span>
  </p>
  <p matLine #sms (blur)="updateSMS(sms.innerText)" contenteditable> {{(currentUser.phoneNumber)?currentUser.phoneNumber:'enter sms number'}} 
  </p>
  <p matLine>
    <span class="demo-2">{{currentUser.date | date:'fullDate'}}</span>
  </p>
  <button matButton id="snap" (click)="auth.signOut()">LOGOUT</button>
</div>

<div *ngIf="this.currentUser.uid === ''">
  <h3 style="text-align: center">Register</h3>
  <ngx-auth-firebaseui-providers providers="['google']"> 
  </ngx-auth-firebaseui-providers>
</div>

<mat-list>
  <div *ngFor="let user of users | async">
    <mat-list-item *ngIf="!currentUser || user.uid !== currentUser.uid">
      <img matListAvatar [src]="user.photoURL" alt="...">
      <h3 matLine> {{user.displayName}} </h3>
      <p matLine>
        <span> {{user.email}} </span>
      </p>
      <p matLine>
        <span class="demo-2">{{user.date | date:'fullDate'}}</span>
      </p>
    </mat-list-item>
  </div>
</mat-list>